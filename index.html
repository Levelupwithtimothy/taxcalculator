<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple Tax Calculator</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Load Inter font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        /* Apply Inter font family */
        body {
            font-family: 'Inter', sans-serif;
        }
        
        /* Custom styles for number input arrows (optional but nice) */
        input[type=number]::-webkit-inner-spin-button,
        input[type=number]::-webkit-outer-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }
        input[type=number] {
            -moz-appearance: textfield;
        }
    </style>
</head>
<body class="bg-gray-100 min-h-screen flex items-center justify-center p-4">

    <!-- Main calculator card -->
    <div class="max-w-lg w-full bg-white p-6 sm:p-8 rounded-xl shadow-lg">
        
        <!-- Header -->
        <div class="text-center mb-6">
            <h1 class="text-2xl sm:text-3xl font-bold text-gray-800">Simple Tax Calculator</h1>
            <p class="text-sm text-gray-500 mt-1">Estimate your tax based on a flat percentage</p>
        </div>

        <!-- Disclaimer -->
        <div class="mb-6 p-3 bg-red-50 border border-red-200 rounded-lg text-center">
            <p class="text-sm font-medium text-red-700">
                <strong>Disclaimer:</strong> This is a simplified estimate for educational purposes only. It is not financial or tax advice.
            </p>
        </div>

        <!-- Form -->
        <form id="tax-form" class="space-y-6">

            <!-- Gross Income -->
            <div>
                <label for="gross-income" class="block text-sm font-medium text-gray-700">Annual Gross Income</label>
                <div class="mt-1 relative rounded-md shadow-sm">
                    <input type="number" id="gross-income" placeholder="e.g., 75000" class="block w-full rounded-lg border-gray-300 pl-3 pr-3 py-3 focus:border-blue-500 focus:ring-blue-500" required>
                </div>
            </div>

            <!-- Deductions -->
            <div>
                <label for="deductions" class="block text-sm font-medium text-gray-700">Deductions</label>
                <div class="mt-1 relative rounded-md shadow-sm">
                    <input type="number" id="deductions" placeholder="0" class="block w-full rounded-lg border-gray-300 pl-3 pr-3 py-3 focus:border-blue-500 focus:ring-blue-500">
                </div>
                <p class="mt-2 text-xs text-gray-500">Enter any deductions (optional). Income after deductions will be taxed.</p>
            </div>

            <!-- Tax Percentage -->
            <div>
                <label for="tax-percentage" class="block text-sm font-medium text-gray-700">Tax Percentage (%)</label>
                <div class="mt-1 relative rounded-md shadow-sm">
                    <input type="number" id="tax-percentage" placeholder="e.g., 20" class="block w-full rounded-lg border-gray-300 pl-3 pr-7 py-3 focus:border-blue-500 focus:ring-blue-500" required>
                    <div class="pointer-events-none absolute inset-y-0 right-0 pr-3 flex items-center">
                        <span class="text-gray-500 sm:text-sm">%</span>
                    </div>
                </div>
            </div>

            <!-- Currency Select -->
            <div>
                <label for="currency-select" class="block text-sm font-medium text-gray-700">Currency</label>
                <select id="currency-select" class="mt-1 block w-full rounded-lg border-gray-300 py-3 pl-3 pr-10 focus:border-blue-500 focus:ring-blue-500 shadow-sm">
                    <option value="$">USD ($)</option>
                    <option value="€">EUR (€)</option>
                    <option value="£">GBP (£)</option>
                    <option value="¥">JPY (¥)</option>
                    <option value="A$">AUD (A$)</option>
                    <option value="C$">CAD (C$)</option>
                    <option value="Fr">CHF (Fr)</option>
                    <option value="¥">CNY (¥)</option>
                    <option value="₹">INR (₹)</option>
                    <option value="R$">BRL (R$)</option>
                    <option value="R">ZAR (R)</option>
                    <option value="₩">KRW (₩)</option>
                    <option value="Mex$">MXN (Mex$)</option>
                    <option value="S$">SGD (S$)</option>
                    <option value="NZ$">NZD (NZ$)</option>
                    <option value="₦">NGN (₦)</option>
                </select>
            </div>
            
            <!-- Calculate Button -->
            <button type="submit" class="w-full bg-blue-600 text-white font-medium py-3 px-4 rounded-lg shadow-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition duration-150 ease-in-out">
                Calculate Estimate
            </button>
        </form>

        <!-- Results Section -->
        <div id="results" class="hidden mt-8 pt-6 border-t border-gray-200">
            <h2 class="text-xl font-semibold text-gray-800 mb-4 text-center">Your Estimated Tax</h2>
            <div class="space-y-4">
                <!-- Taxable Income -->
                <div class="flex justify-between items-center bg-gray-50 p-4 rounded-lg">
                    <span class="font-medium text-gray-700">Taxable Income</span>
                    <span id="taxable-income" class="font-bold text-lg text-gray-900"></span>
                </div>
                <!-- Total Tax -->
                <div class="flex justify-between items-center bg-blue-50 p-4 rounded-lg">
                    <span class="font-medium text-blue-800">Estimated Total Tax</span>
                    <span id="total-tax" class="font-bold text-xl text-blue-900"></span>
                </div>
                <!-- Effective Rate -->
                <div class="flex justify-between items-center bg-gray-50 p-4 rounded-lg">
                    <span class="font-medium text-gray-700">Effective Tax Rate</span>
                    <span id="effective-rate" class="font-bold text-lg text-gray-900"></span>
                </div>
            </div>
        </div>

    </div>

    <script>
        // --- DOM ELEMENTS ---
        const form = document.getElementById('tax-form');
        const currencySelect = document.getElementById('currency-select');
        const grossIncomeInput = document.getElementById('gross-income');
        const deductionsInput = document.getElementById('deductions');
        const taxPercentageInput = document.getElementById('tax-percentage');
        const resultsDiv = document.getElementById('results');
        const taxableIncomeEl = document.getElementById('taxable-income');
        const totalTaxEl = document.getElementById('total-tax');
        const effectiveRateEl = document.getElementById('effective-rate');

        // --- HELPER FUNCTIONS ---
        
        /**
         * Formats a number as currency with a given symbol.
         * @param {number} number - The number to format.
         * @param {string} symbol - The currency symbol (e.g., "$", "€").
         * @returns {string} - The formatted currency string.
         */
        function formatCurrency(number, symbol) {
            // Format the number with commas and 2 decimal places
            const formattedNumber = number.toLocaleString('en-US', {
                minimumFractionDigits: 2,
                maximumFractionDigits: 2
            });
            // Prepend the symbol
            return `${symbol} ${formattedNumber}`;
        }

        /**
         * Formats a number as a percentage.
         * @param {number} number - The number (e.g., 0.123) to format.
         * @returns {string} - The formatted percentage string.
         */
        function formatPercent(number) {
            return number.toLocaleString('en-US', {
                style: 'percent',
                minimumFractionDigits: 1,
                maximumFractionDigits: 1
            });
        }
        
        // --- EVENT HANDLERS ---
        
        /**
         * Main function to handle form submission.
         * @param {Event} event - The form submit event.
         */
        function handleCalculate(event) {
            event.preventDefault(); // Stop form from reloading page

            // 1. Get values from form
            const currencySymbol = currencySelect.value;
            const grossIncome = parseFloat(grossIncomeInput.value) || 0;
            const deductions = parseFloat(deductionsInput.value) || 0;
            const taxPercentage = parseFloat(taxPercentageInput.value) || 0;

            if (grossIncome <= 0 || taxPercentage <= 0) {
                // simple validation
                resultsDiv.classList.add('hidden');
                return;
            }

            // 2. Perform calculations
            const taxableIncome = Math.max(0, grossIncome - deductions);
            const totalTax = taxableIncome * (taxPercentage / 100);
            const effectiveRate = (grossIncome > 0) ? (totalTax / grossIncome) : 0;

            // 3. Display results
            taxableIncomeEl.textContent = formatCurrency(taxableIncome, currencySymbol);
            totalTaxEl.textContent = formatCurrency(totalTax, currencySymbol);
            effectiveRateEl.textContent = formatPercent(effectiveRate);
            
            // 4. Show the results section
            resultsDiv.classList.remove('hidden');
        }

        // --- INITIALIZE ---
        
        // Add event listener for form submission
        form.addEventListener('submit', handleCalculate);
        
    </script>
</body>
</html>