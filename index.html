<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Simple Tax Calculator</title>

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Inter font -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

  <style>  
  body {
    font-family: 'Inter', sans-serif;
    background: radial-gradient(1200px 600px at 10% 10%, rgba(43, 94, 144, 0.25), transparent 12%),
                radial-gradient(900px 500px at 90% 90%, rgba(138, 35, 135, 0.18), transparent 12%),
                linear-gradient(180deg,#071021 0%, #0f1724 100%);
    color: #f5f7fa;
  }

  /* Card look */
  .glass {
    background: rgba(25, 33, 45, 0.85);
    backdrop-filter: blur(8px);
    border: 1px solid rgba(255, 255, 255, 0.1);
  }

  /* Input styling */
  input, select {
    background-color: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.15);
    color: #ffffff; /* brighter text */
  }

  input::placeholder {
    color: rgba(255, 255, 255, 0.55);
  }

  label {
    color: #e0e6ed;
  }

  /* On focus */
  input:focus, select:focus {
    border-color: #FBBD23;
    box-shadow: 0 0 8px rgba(251, 189, 35, 0.4);
    outline: none;
  }

  /* Button improvement */
  button {
    background: #FBBD23;
    color: #111827;
    font-weight: 600;
    transition: all 0.3s ease;
  }

  button:hover {
    background: #f3a300;
    box-shadow: 0 0 15px #FBBD23;
    transform: scale(1.02);
  }

  /* Result text color fix */
  #results span {
    color: #f9fafb;
  }

  #results .text-amber-200 {
    color: #FFD97A;
  }
/* Fix dropdown font color and background */
select {
  background-color: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  color: #ffffff;
  appearance: none;
  -webkit-appearance: none;
  -moz-appearance: none;
  padding-right: 2.5rem;
  background-image: url("data:image/svg+xml,%3Csvg fill='none' stroke='%23FBBD23' stroke-width='2' viewBox='0 0 24 24'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' d='M19 9l-7 7-7-7'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: right 0.75rem center;
  background-size: 1rem;
}

/* Fix dropdown text color for opened options */
select option {
  background-color: #111827;
  color: #f9fafb;
}

/* Selected option */
select option:checked {
  background-color: #FBBD23;
  color: #111827;
}

/* Hovered option (for browsers that support it) */
select option:hover {
  background-color: #f3a300;
  color: #111827;
}

/* On focus */
select:focus {
  border-color: #FBBD23;
  box-shadow: 0 0 8px rgba(251, 189, 35, 0.4);
  outline: none;
}
    </style>
    
    <style>
        /* Result reveal animation */
        #results {
        opacity: 0;
        max-height: 0;
        overflow: hidden;
        transition: opacity 0.5s ease, max-height 0.5s ease;
        }
        #results.show {
        opacity: 1;
        max-height: 1000px; /* large enough to show content */
        }
    </style>    
</head>
<body class="min-h-screen flex items-center justify-center p-6">

  <div class="max-w-xl w-full glass rounded-2xl shadow-2xl p-6 sm:p-8 container-pad">
    <!-- header -->
    <div class="flex items-center justify-between mb-6">
      <div>
        <h1 class="text-lg sm:text-2xl font-semibold tracking-tight">Simple Tax Calculator</h1>
        <p class="text-xs text-sky-200/60 mt-1">Estimate your tax using a flat percentage • Built by Timothy</p>
      </div>
      <div class="text-right">
        <div class="inline-flex items-center gap-2 px-3 py-1 rounded-lg bg-white/3 text-xs">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-yellow-300" viewBox="0 0 20 20" fill="currentColor"><path d="M9.05 2.05a7 7 0 11-4.95 11.95 1 1 0 01.9-1.8A5 5 0 109 4.93a1 1 0 01-1.95-.88A7 7 0 019.05 2.05z"/></svg>
          <span class="text-xxs text-slate-100/85">Estimate</span>
        </div>
      </div>
    </div>

    <div class="mb-5 p-3 rounded-lg bg-red-50/10 border border-red-200/6 text-center">
      <p class="text-sm text-red-300/95"><strong>Disclaimer:</strong> This is a simplified estimate for educational purposes only. Not tax advice.</p>
    </div>

    <!-- form -->
    <form id="tax-form" class="space-y-5" novalidate>
      <div>
        <label for="gross-income" class="block text-xs font-medium text-slate-200/80 mb-2">Annual Gross Income</label>
        <input id="gross-income" type="number" min="0" placeholder="e.g., 75000"
               class="input-focus block w-full rounded-lg border border-white/8 bg-white/3 px-3 py-3 placeholder-slate-200/40 text-slate-50 focus:ring-0" required>
      </div>

      <div>
        <label for="deductions" class="block text-xs font-medium text-slate-200/80 mb-2">Deductions</label>
        <input id="deductions" type="number" min="0" placeholder="0"
               class="input-focus block w-full rounded-lg border border-white/8 bg-white/3 px-3 py-3 placeholder-slate-200/40 text-slate-50 focus:ring-0">
        <p class="mt-2 text-2xs text-slate-200/50">Optional — amount subtracted from gross income before tax</p>
      </div>

      <div>
        <label for="tax-percentage" class="block text-xs font-medium text-slate-200/80 mb-2">Tax Percentage (%)</label>
        <div class="relative">
          <input id="tax-percentage" type="number" min="0" max="100" placeholder="e.g., 20"
                 class="input-focus block w-full rounded-lg border border-white/8 bg-white/3 px-3 py-3 pr-10 placeholder-slate-200/40 text-slate-50 focus:ring-0" required>
          <div class="absolute inset-y-0 right-3 flex items-center pointer-events-none text-slate-200/70">%</div>
        </div>
      </div>

      <div>
        <label for="currency-select" class="block text-xs font-medium text-slate-200/80 mb-2">Currency</label>
        <select id="currency-select" class="input-focus block w-full rounded-lg border border-white/8 bg-white/3 px-3 py-3 text-slate-50">
          <option value="$">USD ($)</option>
          <option value="€">EUR (€)</option>
          <option value="£">GBP (£)</option>
          <option value="¥">JPY (¥)</option>
          <option value="A$">AUD (A$)</option>
          <option value="C$">CAD (C$)</option>
          <option value="Fr">CHF (Fr)</option>
          <option value="¥">CNY (¥)</option>
          <option value="₹">INR (₹)</option>
          <option value="R$">BRL (R$)</option>
          <option value="R">ZAR (R)</option>
          <option value="₩">KRW (₩)</option>
          <option value="Mex$">MXN (Mex$)</option>
          <option value="S$">SGD (S$)</option>
          <option value="NZ$">NZD (NZ$)</option>
          <option value="₦">NGN (₦)</option>
        </select>
      </div>

      <button type="submit" class="w-full inline-flex items-center justify-center gap-3 bg-amber-400 text-slate-900 font-semibold py-3 rounded-lg shadow-md hover:bg-amber-300 focus:outline-none focus:ring-4 focus:ring-amber-300/30 transition">
        Calculate Estimate
        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/></svg>
      </button>
    </form>

    <!-- results -->
    <div id="results" class="reveal mt-8 pt-6 border-t border-white/6">
      <h2 class="text-sm font-semibold text-slate-100 mb-4 text-center">Your Estimated Tax</h2>

      <div class="space-y-3">
        <div class="flex justify-between items-center bg-white/4 p-3 rounded-lg">
          <span class="text-sm text-slate-200">Taxable Income</span>
          <span id="taxable-income" class="font-semibold text-slate-50"></span>
        </div>

        <div class="flex justify-between items-center bg-amber-50/6 p-3 rounded-lg">
          <span class="text-sm text-amber-200 font-medium">Estimated Total Tax</span>
          <span id="total-tax" class="font-semibold text-amber-100 text-lg"></span>
        </div>

        <div class="flex justify-between items-center bg-white/4 p-3 rounded-lg">
          <span class="text-sm text-slate-200">Effective Tax Rate</span>
          <span id="effective-rate" class="font-semibold text-slate-50"></span>
        </div>
      </div>
    </div>
  </div>

  <script>
    // DOM
    const form = document.getElementById('tax-form');
    const currencySelect = document.getElementById('currency-select');
    const grossIncomeInput = document.getElementById('gross-income');
    const deductionsInput = document.getElementById('deductions');
    const taxPercentageInput = document.getElementById('tax-percentage');
    const resultsDiv = document.getElementById('results');
    const taxableIncomeEl = document.getElementById('taxable-income');
    const totalTaxEl = document.getElementById('total-tax');
    const effectiveRateEl = document.getElementById('effective-rate');

    // format currency (keeps symbol + thousands, 2 decimals)
    function formatCurrency(number, symbol) {
      if (!isFinite(number)) return `${symbol} 0.00`;
      return `${symbol} ${Number(number).toLocaleString('en-US', {
        minimumFractionDigits: 2,
        maximumFractionDigits: 2
      })}`;
    }

    function formatPercent(number) {
      return Number(number).toLocaleString('en-US', {
        style: 'percent',
        minimumFractionDigits: 1,
        maximumFractionDigits: 1
      });
    }

    function showResults() {
      resultsDiv.classList.add('show');
      resultsDiv.classList.remove('hidden');
      // small reflow to ensure transition runs
      void resultsDiv.offsetWidth;
    }

    function hideResults() {
      resultsDiv.classList.remove('show');
    }

    form.addEventListener('submit', function (e) {
      e.preventDefault();

      const currencySymbol = currencySelect.value || '$';
      const grossIncome = parseFloat(grossIncomeInput.value);
      const deductions = parseFloat(deductionsInput.value) || 0;
      const taxPercentage = parseFloat(taxPercentageInput.value);

      // validation
      if (isNaN(grossIncome) || grossIncome <= 0) {
        alert('Please enter a valid gross income greater than 0.');
        hideResults();
        return;
      }
      if (isNaN(taxPercentage) || taxPercentage <= 0) {
        alert('Please enter a valid tax percentage greater than 0.');
        hideResults();
        return;
      }
      if (deductions < 0) {
        alert('Deductions cannot be negative.');
        hideResults();
        return;
      }

      // calculations
      const taxableIncome = Math.max(0, grossIncome - deductions);
      const totalTax = taxableIncome * (taxPercentage / 100);
      const effectiveRate = grossIncome > 0 ? (totalTax / grossIncome) : 0;

      // render
      taxableIncomeEl.textContent = formatCurrency(taxableIncome, currencySymbol);
      totalTaxEl.textContent = formatCurrency(totalTax, currencySymbol);
      effectiveRateEl.textContent = formatPercent(effectiveRate);

      showResults();
      // smooth scroll to results on small screens
      if (window.innerWidth < 640) {
        resultsDiv.scrollIntoView({ behavior: 'smooth', block: 'start' });
      }
    });

    // hide results initially
    hideResults();
  </script>
</body>
</html>
